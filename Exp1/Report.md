# 软件需求工程
## 实验一 软件需求的抽取与分类

### 一、实验目标
&emsp;&emsp;实现软件需求的抽取与分类。

### 二、实验人员
* 161220085 刘心悦（25%）
* 171860595 陈少谦（25%）
* 171860663 马少聪（25%）
* 171860681 冯旭晨（25%）

### 三、实验思路
&emsp;&emsp;**Stack Overflow**是开发者进行问答的著名网站，上面存在大量的有关软件开发的优秀问答。如果我们通过其“IDE”标签进行搜索，就能够找到大量的有关IDE的问答（https://stackoverflow.com/questions/tagged/ide）。这些问答也可以作为 Smart IDE 的潜在需求。 <br>

&emsp;&emsp;因此，我们通过爬虫抓取这些问答，然后对这些问答进行分析，从而获取可能需求。其中，可能的分析包括：(1)将每个问答作为一个需求，直接对问答进行分类。 (2)对大量的问答文本进行词云分析，提取出若干关键词作为潜在需求。然后再对这些关键词进行分类（聚类）。 

&emsp;&emsp;除了“IDE”，也可以选用其他 Smart IDE 相关的标签进行搜索获取数据。

### 四、实验步骤
1. 爬虫
    1. 打开Stack Overflow的网站（https://stackoverflow.com/），构造访问问答界面的请求，获取页面内容进行解析。
    2. 在页面调用开发者工具，查看问题和答案所对应的HTML源码，确定问题和答案所对应的累和标签。
    3. 利用beautifulsoup模块的select函数进行查找。
    4. 利用re的compile函数和strinfo的sub函数对筛选后的源码再次筛选，将多余的内容通过正则表达式删去。
    5. 将处理后的标题、问题和答案输出到文件，文件名为“raw.csv”,格式为每行对应一条问答记录。
2. 分词
    1. 获得爬虫的文本信息：文件名为“raw.csv”，其格式为每行三列，分别是序号/问题标题/问题答案。
    2. 通过pandas库读入csv文件，将每行的问题标题和答案文本进行字符串拼接。
    3. 通过spacy库提取字符串中的名词及短语。
    4. 利用正则表达式去除短语中的冠词/代词/频率副词等。
    5. 将处理后的分词用逗号分隔并输出到文件，文件名为“word.csv”，其格式为每行对应一条问答记录，列数由单词量决定。
3. 词转词向量
   1. 獲取分詞后的文本信息：文件名“word.csv”，格式為每段落佔一行，每行中的每列為詞語/短語
   2. 將每個詞自csv文件讀取入二維數組，同樣按照每行為段落，每列為詞語/短語
   3. 通過gensim中的word2vec將數據訓練為詞向量，再將每段中的詞向量加總取平均作爲段落向量
   4. 將段落詞向量存入csv文件“vec.csv”，格式為 序號/向量
4. 聚类
5. 词云分析

### 五、代码截图
1. 爬虫
![](https://github.com/NJUaaron/SoftwareReqEng/blob/master/Exp1/Pictures/webcrawler.png)
2. 分词
![](https://github.com/NJUaaron/SoftwareReqEng/blob/master/Exp1/Pictures/SeparateCode.PNG)

3. 词转词向量
![](https://github.com/NJUaaron/SoftwareReqEng/blob/master/Exp1/Pictures/word2vec.png)

4. 聚类
5. 词云分析

### 六、实验结果
1. 词云分析
2. 需求分类
3. 需求分析

### 七、反思改进
* 刘心悦：
* 陈少谦：
    * 本次實驗瞭解到了最基礎的自然語言分析流程，同時實踐了實際軟件開發中需求獲取的其中一個方式
    * 詞轉詞向量這個部尚存在可改進的空間：由於本次實驗數據集較小，故詞向量的準確性有待提升
    * 實驗過程中亦體會到協同開發中的細枝末節將影響開發效率，需要在開發前規定好分工/時間節點/文件接口等互通功能
* 马少聪：
    * 本次实验学习了爬虫/分词/词云分析/聚类等实验过程，了解了实际软件开发工作中的需求获取过程，掌握了一定的需求分析技术。
    * 在分词过程中的可改进之处是：本次分词采用了spacy的名词分词库，倘若可以进一步使用字典分词精细关键字筛选过程，实验结果将更加清晰显著。
    * 实验过程中不仅学习了软件需求工程的内容，更深刻体会到类似软件工程中开发过程的问题，如实验流程安排/时间节点控制/文件接口协议等等。
* 冯旭晨：
    * 本次实验学习到了以前很感兴趣的关于爬虫的知识并且自己亲自动手完成了一个简单的爬虫程序
	* 在Python语言的编写上还不够熟练，写出来的爬虫程序略显笨重，没有体现Python语言的方便性。
